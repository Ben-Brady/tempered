{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Tempered","text":""},{"location":"#adding-templates","title":"Adding templates","text":"<pre><code>import components\nfrom tempered import Tempered\n\ntempered = Tempered(\n    template_folder=\"./templates\",\n) # Initial Creationg\n\ntempered.add_template_folder(\"./templates\")\ntempered.add_template(\"./templates/comment.html\")\ntempered.add_template_from_string(\"comment.html\", \"\"\"\n    {% param text: str %}\n    &lt;span&gt;{{ text }}&lt;/span&gt;\n\"\"\")\n</code></pre>"},{"location":"#type-generating","title":"Type Generating","text":"<p>By default, tempered will create a dynamic type stubs file alongside the libraries files. This is dynamically updated to fit the currently encoded templates. It enabled IDEs to provide autocomplete on templates names as well as.</p> <p>However, this may not play well with some IDEs. Additionally, it increases build times and uses IO to write the stubs file, it's recommended to disabled in production.</p> <p>It can be disabled by adding <code>generate_types=False</code> to the Tempered constructor.</p> <pre><code>Tempered(generate_types=False)\n</code></pre>"},{"location":"#performance","title":"Performance","text":"<p>If you want to increase build performance: install <code>lxml</code>.</p> <p>This allows the HTML to parsed much faster and increases build times by 10-30%. However it requires C build tools and is not available on all platforms. If <code>lxml</code> installed, Tempered will use it by default.</p>"},{"location":"#grammar","title":"Grammar","text":"<p>The formal grammar specified in Extended Backus-Naur Form and can be found here.</p>"},{"location":"examples/","title":"Examples","text":""},{"location":"examples/#even-and-odd-table","title":"Even and Odd Table","text":"<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n    &lt;div class=\"table\"&gt;\n    {% for x in range(10) %}\n        {% if x % 2 == 0 %}\n            &lt;div class=\"row even\"&gt;\n                {{x}}\n            &lt;/div&gt;\n        {% else %}\n            &lt;div class=\"row odd\"&gt;\n                {{x}}\n            &lt;/div&gt;\n        {% endif %}\n    {% endfor %}\n&lt;/div&gt;\n&lt;/body&gt;\n\n&lt;style&gt;\n    .table {\n        width: 500px;\n        height: fit-content;\n        border: solid black 1px;\n\n        display: flex;\n        flex-flow: column nowrap;\n    }\n\n    .row {\n        width: 100%;\n        color: black;\n        text-align: center;\n    }\n    .row.even { background: #FAFAFF; }\n    .row.odd { background: #DADDD8; }\n&lt;/style&gt;\n&lt;/html&gt;\n</code></pre> 0 1 2 3 4 5 6 7 8 9"},{"location":"quickstart/","title":"Quickstart","text":""},{"location":"quickstart/#basic-setup","title":"Basic Setup","text":""},{"location":"quickstart/#step-1","title":"Step 1","text":"<pre><code>pip install tempered\n</code></pre>"},{"location":"quickstart/#create-your-first-template","title":"Create your First Template","text":"<pre><code>&lt;!-- templates/title.html --&gt;\n&lt;h1&gt;\n    {{ title }}\n&lt;/h1&gt;\n</code></pre>"},{"location":"quickstart/#rendering-to-terminal","title":"Rendering to Terminal","text":"<pre><code>from tempered import Tempered\ntempered = Tempered()\n\nhtml = tempered.render_template(\n    \"title.html\",\n    title=\"hello, world\",\n)\nprint(html)\n</code></pre> <pre><code>&gt;$ python3 quickstart.py\n&lt;h1&gt;Hello World&lt;/h1&gt;\n</code></pre>"},{"location":"quickstart/#with-flask","title":"With Flask","text":""},{"location":"quickstart/#1-install-dependencies","title":"1. Install Dependencies","text":"<pre><code>pip install flask tempered\n</code></pre>"},{"location":"quickstart/#2-setup-flask","title":"2. Setup Flask","text":"<pre><code>from flask import Flask\n\napp = Flask(__name__)\n\n@app.get(\"/\")\ndef get_index():\n    return \"&lt;h1&gt;Hello&lt;/h1&gt;\"\n\nif __name__ == \"__main__\":\n    app.run()\n</code></pre>"},{"location":"quickstart/#3-setup-tempered","title":"3. Setup Tempered","text":"<pre><code>from flask import Flask\n+ from tempered import Tempered\n\napp = Flask(__name__)\n+ tempered = Tempered()\n\n@app.get(\"/\")\ndef get_index():\n    return \"&lt;h1&gt;Hello World&lt;/h1&gt;\"\n\nif __name__ == \"__main__\":\n    app.run()\n</code></pre>"},{"location":"quickstart/#4-add-a-template","title":"4. Add a template","text":"<pre><code>&lt;!-- templates/index.html --&gt;\n&lt;h1&gt;\n    Hello World\n&lt;/h1&gt;\n</code></pre> <pre><code>from flask import Flask\nfrom tempered import Tempered\n\napp = Flask(__name__)\ntempered = Tempered()\n\n@app.get(\"/\")\ndef get_index():\n+   return tempered.render_template(\"index.html\")\n\nif __name__ == \"__main__\":\n    app.run()\n</code></pre>"},{"location":"quickstart/#5-using-a-layout","title":"5. Using a layout","text":"<pre><code>&lt;!-- templates/layout.html --&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset='utf-8'&gt;\n    &lt;meta http-equiv='X-UA-Compatible' content='IE=edge'&gt;\n    &lt;meta name='viewport' content='width=device-width, initial-scale=1'&gt;\n    &lt;title&gt;{% slot required title %}&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    {% slot %}\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre> <pre><code>&lt;!-- templates/index.html --&gt;\n+ {% layout \"layout.html\" %}\n\n{% block title %}Home{% endblock %}\n\n&lt;h1&gt;\n    Hello World\n&lt;/h1&gt;\n</code></pre>"},{"location":"readme/","title":"Introduction","text":"<p> A modern html templating library for python </p> <p>Documentation: https://github.com/Ben-Brady/tempered/blob/main/docs/index.md</p> <p>Source Code: https://github.com/Ben-Brady/tempered</p> <pre><code>pip install tempered\n</code></pre> <p>Tempered is templating library designed around HTML and type safety.</p> <ul> <li>Fast: Sub-millisecond render times.</li> <li>Scoped and Bundled CSS: CSS is scoped per file and then bundled together into a single stylesheet per page</li> <li>Native Preprocesser Support: Native support for Sass</li> <li>Component Based: Each template is a components and can call other components</li> <li>Layouts: Templates can use layouts, based on jinja2's implementation</li> <li>Dynamically Typed: Optional dynamic type information can be built with components for better intelisense.</li> </ul>"},{"location":"readme/#lightning-fast","title":"Lightning Fast","text":"<ul> <li>Templates are optimised and compiled into Python leading to microsecond long render times.</li> <li>5x faster than Jinja, 50x faster the django</li> </ul>"},{"location":"readme/#advanced-css-support","title":"Advanced CSS Support","text":"<p>CSS is scoped per template and bundled together into a single stylesheet.</p> <p>Additionally, sass and scss support is built in.</p> <pre><code>&lt;div&gt;\n  &lt;img src=\"/example.png\" alt=\"Example Post\"&gt;\n&lt;/div&gt;\n\n&lt;style lang=\"sass\"&gt;\n  div\n    border-radius: 1rem;\n    img\n        height: auto;\n        width: 2rem;\n        border-radius: 1rem;\n&lt;/style&gt;\n</code></pre>"},{"location":"readme/#type-hinting","title":"Type Hinting","text":"<p>Type declarations are generated for templates so that IDEs can provide type suggestions on templates.</p> <pre><code>tempered = Tempered()\n\ntempered.add_template_from_string(\"title.html\", \"\"\"\n    {% param title: str %}\n    &lt;h1&gt;\n        {{ title }}\n    &lt;/h1&gt;\n\"\"\")\n\ntempered.render_template(\n    \"title.html\",\n    title=1, # Warning: Argument of type \"str\" cannot be assigned to parameter \"bar\" of type \"str\" in function \"foo\"\n\n)\n</code></pre>"},{"location":"readme/#example","title":"Example","text":"<pre><code>from tempered import Tempered\n\ntempered = Tempered(\"./templates\")\nhtml = tempered.render_template(\"image.html\",\n    src=\"/example.png\",\n    alt=\"Example Post\",\n)\nprint(html)\n</code></pre> <pre><code>&lt;!-- templates/Image.html --&gt;\n{% param src: str %}\n{% param alt: str = \"\" %}\n\n&lt;img src=\"{{src}}\" alt=\"{{alt}}\"&gt;\n\n&lt;style&gt;\n    img {\n        width: 100px;\n        height: 100px;\n    }\n&lt;/style&gt;\n</code></pre> <pre><code>&lt;img alt=\"Example Post\" src=\"/example.png\" class=image-83dc&gt;&lt;style&gt;img.image-83dc{width:100px;height:100px}&lt;/style&gt;\n</code></pre>"},{"location":"reference/","title":"Reference","text":""},{"location":"reference/#tempered","title":"<code>Tempered</code>","text":""},{"location":"reference/#__init__","title":"<code>__init__</code>","text":"<pre><code>def __init__(self,\n    template_folder: str | Path | None = None,\n    *,\n    generate_types: bool = True,\n)\n</code></pre>"},{"location":"reference/#generate_types","title":"<code>generate_types</code>","text":"<p>specifies whether tempered should generate type declarations for added templates.</p> <p>This is enabled by default, but should be disabled in production enviroments or when IO is read only.</p>"},{"location":"reference/#temperedtemplate_files","title":"<code>Tempered.template_files</code>","text":"<p>A readonly list of the any files used in templates.</p> <p>This is useful for watchdog and code refreshing tools.</p> <p>Example in Flask:</p> <pre><code>app = Flask()\n\nif __name__ == \"__main__\":\n    app.run(\n        # Flask will now reload whenever a template changes\n        extra_files=tempered.template_files,\n    )\n</code></pre>"},{"location":"reference/#temperedadd_template","title":"<code>Tempered.add_template()</code>","text":"<pre><code>def add_template(self, file: Path | str):\n</code></pre> <p>Creates a template from a file.</p> <pre><code>tempered.add_template(\"index.html\")\n</code></pre>"},{"location":"reference/#temperedadd_template_folder","title":"<code>Tempered.add_template_folder()</code>","text":"<pre><code>def add_template_folder(self, folder: Path | str):\n</code></pre> <p>Transforms all files in a folder into templates, using the file name as the template name.</p> <p>Removes the folder prefix from all template names</p>"},{"location":"reference/#temperedadd_template_from_string","title":"<code>Tempered.add_template_from_string()</code>","text":"<p>Create a template from a string, specifying the name and contents.</p> <pre><code>def add_template_from_string(self,\n    name: str,\n    **context: t.Any\n    ) -&gt; str\n</code></pre> <p>Example:</p> <pre><code>tempered.add_template_from_string(\"title.html\", \"\"\"\n    {% param title: str %}\n    &lt;h1&gt;\n        {{ title }}\n    &lt;/h1&gt;\n\"\"\")\n</code></pre>"},{"location":"reference/#temperedrender_template","title":"<code>Tempered.render_template()</code>","text":"<pre><code>def render_template(self,\n    name: str,\n    **context: t.Any\n    ) -&gt; str\n</code></pre> <p>Render an existing template by name, with provided parameters.</p> <pre><code>html = tempered.render_template(\n    \"user.html\",\n    name=\"Ben Brady\",\n)\n</code></pre>"},{"location":"reference/#temperedrender_from_string","title":"<code>Tempered.render_from_string()</code>","text":"<pre><code>def render_from_string(self,\n    html: str,\n    **context: t.Any\n    ) -&gt; str\n</code></pre>"},{"location":"reference/#temperedadd_global","title":"<code>Tempered.add_global()</code>","text":"<pre><code>def add_global(self, name: str, value: t.Any)\n</code></pre>"},{"location":"reference/#temperedglobal_func","title":"<code>@Tempered.global_func</code>","text":"<pre><code>@tempered.global_func\ndef format_date_ddmmyyyy(date: datetime):\n    return date.strftime(\"%d/%m/%Y\")\n</code></pre>"},{"location":"templating/","title":"Templates","text":"<p>Tempered templates are based on Jinja with several modifications.</p> <pre><code>{% layout \"layout.html\" %}\n{% param text: str %}\n&lt;div&gt;\n    {text}\n&lt;/div&gt;\n</code></pre>"},{"location":"templating/#template-tags","title":"Template Tags","text":""},{"location":"templating/#expression","title":"Expression","text":"<p>Use <code>{{ EXPR }}</code> for expressions,</p> <p><pre><code>&lt;span&gt;{{ text }}&lt;/span&gt;\n</code></pre> These are escaped in HTML and tag parameters, so they are protected against XSS</p> <pre><code>&lt;a src=\"{{src}}\"&gt; &lt;!-- This is safe --&gt;\n    {{ text }}  &lt;!-- And so is this --&gt;\n&lt;/a&gt;\n</code></pre> <p>Important: Ensure you surround attributes in quotes <code>\"</code> to prevent XSS</p> <p><code>&lt;a href=\"{{src}}\"/&gt;</code> is safe</p> <p><code>&lt;a href={{src}}/&gt;</code> is unsafe</p>"},{"location":"templating/#if","title":"<code>{% if %}</code>","text":"<p>Use <code>{% if %}</code> and <code>{% endif %}</code> for control flow, there are two control flow structures</p> <pre><code>{% param link: str | None = None %}\n\n{% if link %}\n    &lt;a href=\"{{link}}\"&gt;\n        Link\n    &lt;/a&gt;\n{% endif %}\n</code></pre> <p>You can also have an else block</p> <pre><code>{% param src: str | None = None %}\n\n{% if src %}\n    &lt;img src=\"{{src}}\" alt=\"\"/&gt;\n{% else %}\n    &lt;img src=\"/images/missing.png\" alt=\"\"/&gt;\n{% endif %}\n</code></pre> <p>As well as elif blocks</p> <pre><code>{% param number: int %}\n\n&lt;span&gt;\n    {% if number &lt; 10 %}\n        {{ number }} is less than 10\n    {% elif number &lt; 100 %}\n        {{ number }} is less than 100\n    {% elif number &lt; 1000 %}\n        {{ number }} is less than 1000\n    {% else %}\n        {{ number }} is bigger than 1000\n    {% endif %}\n&lt;/span&gt;\n</code></pre>"},{"location":"templating/#for","title":"<code>{% for %}</code>","text":"<p>Use <code>{% for %}</code></p> <pre><code>{% param commments: list[str] %}\n\n{% for comment in comments %}\n    &lt;span&gt;\n        {{ comment }}\n    &lt;/span&gt;\n{% endfor %}\n</code></pre> <pre><code>{%param commments: list[str] }\n\n&lt;ul&gt;\n{% for x in range(10) %}\n    &lt;li&gt;{{x}}&lt;/li&gt;\n{% endfor %}\n&lt;/ul&gt;\n</code></pre>"},{"location":"templating/#html","title":"<code>{% html %}</code>","text":"<p>Use <code>{% html %}</code> to include literal html without escaping</p> <pre><code>{%param markdown_html: str %}\n&lt;div&gt;\n    {% html markdown_html %}\n&lt;/div&gt;\n</code></pre>"},{"location":"templating/#param","title":"<code>{% param %}</code>","text":"<p>Use <code>{% param %}</code> for parameters</p> <pre><code>{% param a %}\n{% param b: list %}\n{% param c = 2 %}\n{% param d: str = \"A\" %}\n{% param e: t.Optional[str, None] = None %} &lt;!-- Advanced Typing--&gt;\n</code></pre> <p>Note: typing_extensions is imported as t and can be used in parameters</p>"},{"location":"templating/#component","title":"<code>{% component %}</code>","text":"<p>Use <code>{% component Component() %}</code> for a component, call this like:</p> <pre><code>{% import Post from \"post.html\" %}\n\n&lt;div&gt;\n    {% component Post(title=\"Lorum Ipsum\") %}\n&lt;/div&gt;\n</code></pre>"},{"location":"templating/#import","title":"<code>{% import %}</code>","text":"<p>You have to import components using the import syntax. You can specify any target name.</p> <pre><code>{% import ANY_NAME from \"template_name.html\" %}\n</code></pre>"},{"location":"templating/#set","title":"<code>{% set %}</code>","text":"<p>Use <code>{% set %}</code> to set a variable</p> <pre><code>&lt;div&gt;\n    {% set title = post.title.lower() %}\n&lt;/div&gt;\n</code></pre>"},{"location":"templating/#styles","title":"<code>{% styles %}</code>","text":"<p>Use <code>{% styles %}</code> for styles, this is where styles are placed</p> <pre><code>&lt;head&gt;\n    {% styles %}\n&lt;/head&gt;\n</code></pre> <p>If omitted, styles are placed at the end of the component</p>"},{"location":"templating/#include","title":"<code>{% include %}</code>","text":"<p>You can manually include a seperate components styles using <code>include</code>, should be placed at the top of the component. This treats the target component as a depedency.</p> <pre><code>{% include \"post.html\" %}\n\n&lt;head&gt;\n    {% styles %}\n&lt;/head&gt;\n</code></pre> <p>You shouldn't have to do this normally, only if your dynamically adding a component through javascript such as with HTMX.</p>"},{"location":"templating/#styles_1","title":"Styles","text":"<p>Anything placed in style tags is transformed into the componenets CSS. <pre><code>&lt;div&gt;\n    Hello\n&lt;/div&gt;\n&lt;style&gt;\n    div {\n        height: 10rem;\n        width: 10rem;\n        text-align: center;\n        justify-text: center;\n    }\n&lt;/style&gt;\n</code></pre></p>"},{"location":"templating/#scoping","title":"Scoping","text":"<p>Style tags are automatically converted into CSS, By default css is scoped per component, this means you don't have to worry CSS name collisions. This is done by applying a component specific class to each</p> <p>Watch you, you cannot place dynamic attributes in the CSS, this is becuase CSS is shared per component</p>"},{"location":"templating/#global","title":"Global","text":"<p>If you want to disable CSS scoping, you can place a global attribute on your style tag.</p> <pre><code>&lt;style global&gt;\n    html {\n        --text: #262626;\n        --background: #ededed;\n        --primary: #91c0c0;\n        --secondary: #d5d5e7;\n        --accent: #579898;\n        --error: #FD2929;\n    }\n&lt;/style&gt;\n</code></pre>"},{"location":"templating/#with_styles","title":"<code>with_styles</code>","text":"<p>If you want to use a component without including it's styles, you can use the <code>with_styles</code> parameter to prevent include the CSS. This is useful for when you place components into a page using AJAX/HTMX.</p> <pre><code>tempered.render_template(\"partial.html\", with_styles=False)\n</code></pre>"},{"location":"templating/#sass","title":"Sass","text":"<p>If you want to use sass, you can declare it on a style tag with <code>lang=\"scss\"</code> or <code>lang=\"sass\"</code> to get sass or scss respectively</p> <pre><code>&lt;style lang=\"scss\"&gt;\n    a {\n        b {\n            color: red;\n        }\n    }\n&lt;/style&gt;\n\n&lt;style lang=\"sass\"&gt;\n    a\n        b\n            color: red\n&lt;/style&gt;\n</code></pre> <p><code>a b {color: red;}</code></p>"}]}