<script type="tempered/metadata">
parameters:
    user:
    editting:
        type: bool
        default: Flase
</script>

<div id="username-edit">
    <t:if condition="not editting">
        <div>
            <h3>
                {{user.username}}
            </h3>
            <img src="/static/Edit.svg" alt="Edit" hx-post="/username/edit" hx-target="#username-edit"
                hx-swap="outerHTML" />
        </div>
        </tc :if>
        <t:else>
            <form hx-swap="outerHTML" hx-target="#username-edit">
                <input type="hidden" name="user_id" value="{{user.id}}" />
                <input type="text" name="username" placeholder="Username" value="{{user.username}}" />
                <img src="/static/Save.svg" alt="Save" id="save-button" hx-post="/username/save" />
                <img src="/static/Cancel.svg" alt="Cancel" hx-post="/username/cancel" />
            </form>
        </t:else>
        <div id="username-error"></div>
</div>

<style>
    div {
        width: fit-content;
        display: flex;
        flex-direction: row;
        align-items: center;
        gap: 1rem;

        div,
        form {
            width: fit-content;
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 1rem;
        }

        h3 {
            padding: .1rem;
        }

        img {
            cursor: pointer;
            height: 1.2rem;
            width: 1.2rem;
            border: .1rem;
        }


    }
</style>
